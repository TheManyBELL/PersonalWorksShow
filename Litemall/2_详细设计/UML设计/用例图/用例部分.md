### 一、Actor

##### 1.参与者

* 真实的人，用户，命名这类参与者，应按照业务而不是位置命名
* 其他的系统，位于程序边界之外的系统
* 可以运行的进程

##### 2.确定参与者

### 二、用例

##### 1.用例

在不揭示系统内部构造的前提下定义连贯性为

用例的定义包含必须的所有行为（包括异常情况）

##### 2.识别用例

* 参与者希望系统提供什么功能
* 系统是否存储和检索信息，如果是，由那个参与者触发
* 系统改变状态时，是否通知参与者
* 是否存在影响系统的外部事件
* 哪个参与者通知系统这些事件

##### 3.用例与事件流

### 三、用例间关系

##### 1.关联关系

##### 2.包含关系`include`

一个用例可以简单地包含其它用例具有的行为，并把它所包含的用例行为作为自身行为的一部分，称作包含关系。

*  如果两个以上用例有大量一致的功能，则可以将这个功能分解到另外一个用例中。其它用例可以和这两个用例建立包含关系
* 一个用例的功能太多时，可以用包含关系建模两个小用例

##### 3.扩展关系`extend`

基础用例的执行不和涉及到扩展用例，只有特定的条件发生，扩展用例才被执行

扩展关系为处理异常或构建灵活的系统框架提供了一种有效的方法

##### 4.泛化关系

## 四、功能需求

#### 4.1 用例

##### 4.1.1 用户目标分析

| 主要参与者 | 目标                                                         |
| ---------- | ------------------------------------------------------------ |
| 用户       | 主要分为浏览商城、购买、信息管理、售后服务和其他功能；                                                                  （1）购物模块主要达到的目标为：浏览商品、下订单、  购物车管理                                                                                   （2）账户管理主要达到的目标为：优惠券管理、收藏夹管理、订单管理、查看足迹、地址管理、                                                                                                                                                              （3）售后服务主要达到的目标为：退货、换货、联系客服、意见反馈                                                                                                                                             （4）其他功能模块主要达到的目标为：登陆、密码找回、注册、退出 |
| 管理员     | 主要分为用户管理、商场管理、商品管理、推广管理、系统管理、配置管理、统计报表和其他功能                                                                                                                                                （1）用户管理模块主要达到的目标为：查看和导出用户、用户的收货地址、收藏、足迹、搜索历史和意见反馈；                                                                                                                                                                    （2）商场管理模块主要达到的目标为：查看行政区域，查看、添加和导出品牌制造商、订单，查看、添加、编辑和删除商品类目、通用问题、关键词；                                                                                                                                                                    （3）商品管理模块主要达到的目标为：添加和导出商品列表，编辑、删除商品，查看商品详情，管理商品上架，查看、审核、回复、删除商品评论；                                                       （4）推广管理模块主要达到的目标为：添加、编辑广告，设置广告的上线时间和下线时间，将广告下线，优惠券、专题、团购规则、团购活动的管理；                                                                                                                                         （5）系统管理模块主要达到的目标为：查看管理员、操作日志，角色的授权、对象存储；                                                                                                                       （6）配置管理模块主要达到的目标为：   配置商场、运费、订单、小程序信息                           （7）统计报表模块主要的功能为：统计用户、订单、商品                                                          （8）其他功能模块主要达到的目标为：外链管理、管理员登陆 |

#### 4.2 功能描述

##### 4.2.1 用户用例详述

**用例一：登陆**

主要流程：

用户进入登陆页，选择微信登陆或者账号登陆方式，进入商城主页。

分支流程：

1.用户选择账号登陆，用户输入账号密码

2.用户选择忘记密码，进入密码重置页面，填写验证信息

3.用户选择注册账号，用户进入注册页面，填写注册信息



**用例二：浏览广告**

主要流程：

用户可以滑动广告栏查看广告，并进入广告页面查看商品

**用例三：浏览专题**

主要流程：

用户进入某个专题页面，可以浏览专题描述，专题下的商品，专题留言，并可以在留言区进行留言

**用例四：查看分类**

主要流程：

用户可以在分类板块查看一级分类标签，通过选择一级标签可以进入二级分类标签，并浏览二级分类标签下的商品。

**用例五：浏览品牌**

主要流程：

用户可以选择进入任一品牌制造商页面，并浏览品牌制造商下的商品

**用例六：领取优惠券**

主要流程：

用户进入首页可以领取系统发放的优惠券

分支流程：

1.若达到单人领取优惠券上限，则领取失败

2.若达到优惠券领取张数上限，则领取失败

**用例七：查看商品**

主要流程：

用户进入商品页面，可以查看商品描述、商品的评论、商品的规格

分支流程：

1.用户可以选择将商品加入购物车

2.用户可以选择将商品加入收藏夹

3.用户可以选择加商品分享给好友，好友通过链接在七天之内购买商品且不退货，用户可以获得返点

**用例八：购物车管理**

主要流程：

用户在购物车页面可以选择删除商品，修改商品数量和属性，并在购物车选择商品进行结算

**用例九：团购**

主要流程：

用户选择团购商品，按照正常商品的价格下单，在团购规定时间内达到团购数量则完成团购，并按照团购等级规则，原渠道收回团购优惠的金额。

分支流程：

在团购规定时间内没有达到最低团购数量，则团购失败，订单自动取消，用户将收回支付金额

**用例十：下单**

主要流程：

用户选择购买商品或者通过购物车结算进入下单页面，填写收货地址，可以查看满足商品使用条件的优惠券，选择使用一张优惠券，并可以选择使用用户拥有的返点数抵扣商品支付金额，提交订单，完成支付。

分支流程：

1.用户提交订单后未完成付款，订单被挂起，并于30分钟后自动取消订单。

2.用户提交订单后商品库存不足，则无法进行支付，订单不能提交。

3.用户在支付过程中账户余额不足，则付款失败，订单失败作废。

**用例十一：管理收藏夹**

主要流程：

用户进入收藏夹，可以浏览收藏夹内商品，也可以选择将商品删除

**用例十二：管理订单**

主要流程：

用户可以查看自己的订单，包括待付款订单，待发货订单，待收货订单和待评价订单

分支流程：

1.用户可以在待付款订单中选择取消订单

2.用户可以在待发货订单中催商家发货

3.用户可以查看待收货订单的物流信息，也可以确认收货

3.用户可以对待评价订单进行评价，评价发布完成后等待管理员审核，审核成功后才能在页面上显示

**用例十三：管理优惠券**

主要流程：

用户可以查看自己已领取的优惠券，删除优惠券

**用例十四：管理足迹**

主要流程：

用户可以查看过去几天中每天的商品浏览足迹

**用例十五：管理地址**

主要流程：

用户可以管理自己的收货地址，包括添加一个新地址，更改现有的地址信息，删除一条收货地址，设置某个收货地址为默认地址。

**用例十六：退货**

主要流程：

用户可以提交退货申请，等待管理员

**用例十七：换货**

主要流程：



**用例十八：联系客服**

主要流程：

用户可以在购买前跟客户咨询商品信息、购买建议、协商，也可以在收货后联系客服询问关于商品使用的注意点，咨询退换货流程。

**用例十九：反馈问题**

主要流程：

用户可以对商品相关、功能异常、优化建议或者其他进行反馈，填写对商城、商品、服务的个人建议，并填写用户的手机号码。



##### 4.2.2 管理员用例详述

**用例一：会员管理**

主要流程：

管理员可以通过手机号或者用户名来查找用户，并查看用户的相关信息

**用例二：收获地址**

主要流程：

管理员可以查看或导出用户的收货地址

**用例三：会员收藏**

主要流程：

管理员可以查看或导出用户的商品收藏信息

**用例四：会员足迹**

主要流程：

管理员可以查看或导出用户的商品浏览记录。

**用例五：搜索历史**

主要流程：

管理员可以查看或导出用户的商品搜索历史。

**用例六：意见反馈**

主要流程：

管理员可以查看或导出用户的意见反馈，从而对商城进行调整。

**用例七：行政区域**

主要流程：

管理员可以查看全国的所有行政区区域编码，所有省级行政区下的所有市级行政区、区县级行政区的区域编码。

**用例八：品牌制造商**

主要流程：

管理员可以根据品牌商ID或者品牌商名称查找对应的品牌制造商，也可以添加、编辑、删除或者导出品牌商信息。

**用例九：商品类目**

主要流程：

管理员可以查看所有一级商品类目列表，以及一级目录下的二级商品类目，也可以添加、编辑、删除一级类目、二级类目。

**用例十：订单管理**

主要流程：

管理员可以根据用户ID、订单编号、订单状态查找所有订单列表，还可以查看订单的详细信息，导出订单列表、打印单个订单的详细信息。

**用例十一：通用问题**

主要流程：

管理员可以输入问题内容可以查询相关通用问题，可以添加、编辑、删除通用问题信息，支持导出列表。
关键词：输入关键字或者跳转链接可以查询相应的关键词标签，可以添加、编辑、删除关键词，支持导出关键词列表。

**用例十二：商品列表**

主要流程：

管理员可以根据商品编号、商品名称查询商品信息，也可以添加商品，对商品进行上架。还可以查看商品的详细信息，编辑修改商品的信息，删除商品，导出商品信息。

**用例十三：商品上架**

主要流程：

管理员可以填写新的商品信息，将商品上架。

**用例十四：商品评论**

主要流程：

管理员可以通过用户ID查找到用户的所有的评论，以及通过商品ID查找到该商品的所有评论。对评论进行审核，还可以回复评论，删除不合法的评论。

**用例十五：广告管理**

主要流程：

管理员可以将广告上线，设定广告的上线时间、下线时间，在广告上线后可以编辑广告，暂停广告的播放，也可以直接下线广告。

**用例十六：优惠券管理**

主要流程：

管理员可以向商场发放优惠券，包括设置优惠券的数量，优惠券的抵扣金额，有效期限，单人领取上限，也可以删除优惠券。

**用例十七：专题管理**

主要流程：

管理员可以进行专题的推广（专题是以某一个主题进行商品推荐的软文），可以编辑专题，查看专题的访问数量。

**用例十八：团购管理**

主要流程：

管理员可以发起团购活动，定制团购活动的开始时间、结束时间、团购的具体规则，可以查看团购活动的订单，在团购活动结束后可以进行删除。

**用例十九：角色管理**

主要流程：

管理员拥有不同的权限，超级管理员（最高权限的管理员）能够设置其他管理员的权限，控制其他管理员只能操作特定的功能（例如：可以设置管理员为推广管理员，负责首页的广告、专题等活动的推广；也可以设置管理员为商场管理员，负责商品的商家和销售管理）

**用例二十：操作日志**

主要流程：

管理员（拥有最高权限）能够查看一段时间内系统中商城管理员、推广管理员的操作日志，保证管理后台系统安全运行。

**用例二十一：商场配置**

主要流程：

管理员可以设置、修改商场名称、商场地址、联系电话、联系qq等。

**用例二十二：运费配置**

主要流程：

管理员可以设置、修改运费的价格，以及包邮所需的最低消费价格。

**用例二十三：订单配置**

主要流程：

管理员可以设置用户下单后未付款系统的等待时间，否则订单就会自动取消。也可以设置订单发货后用户未确认收货时系统的等待时间，否则订单就会自动确认收货；及确认收货后用户未评价商品，系统的等待时间，否则系统默认好评。

**用例二十四：小程序配置**

主要流程：

管理员可以设置、修改首页中各栏目显示的数量，还可以开启和关闭商城中的商品分享功能。

**用例二十五：统计用户**

主要流程：

管理员可以查看各个时间段用户的增长情况。

**用例二十六：统计订单**

主要流程：

管理员可以查看订单量、下单用户、订单总额和客单价四个统计量随时间的关系变化图。

**用例二十七：统计商品**

主要流程：

管理员可以查看订单量、下单货物数量和下单货品总额三个统计量随时间的关系变化图。